/**
 * jQuery Framer Plugin
 *
 * @author		Hirohisa Nagai
 * @version		0.80
 * @copyright	eternity design ( http://eternitydesign.net/ )
 * @license		MIT License
 *
 * include spin.js
 * fgnass.github.com/spin.js#v2.1.0
 *
 */
!function($){var t=$.Framer={};$.fn.Framer=function(e){e=$.extend({animation:"fade",loadingColor:"#fff",opacity:.8,overlayTime:500,isOverlayClose:!0,isAutoResize:!0,isScroll:!0,resizeRatio:.9,speed:500,title:'<div id="frmTitle"></div>',description:'<div id="frm_description">{description}</div>',closeBtn:'<div class="close_btn"></div>',inner:{},width:640,height:360,iframe:'<iframe name="framer-iframe" frameborder="0" id="framer-iframe"></iframe>',ajaxDataType:"html",blur:"",isPushState:!1,isCSSAnim:!1},e),t.target,t.body,t.contents,t.indicator,t.box,t.type,t.title,t.description,t.closeBtn,t.container,t.blurTarget,t.animation;var r,i,a,o=!1,n=location.href;t.open=function(a){t.body=$("body"),i=$('<div id="frm_overlay"></div>'),i.css("opacity",0),i.height($(document).height()).width($(window).width()),r=$('<div id="loading"></div>').css({width:$(window).width(),height:$(window).height(),top:$(window).scrollTop(),left:0});var o={lines:12,width:4,color:e.loadingColor};return t.indicator=new Spinner(o).spin(r[0]),t.body.append(r),t.body.append(i),i.fadeTo(e.overlayTime,e.opacity),""!==e.blur&&(t.blurTarget=$(e.blur).Vague({intensity:8,animationOptions:{duration:e.speed,easing:"linear"}}),t.blurTarget.blur()),t.box=$('<div id="framer"></div>'),t.container=$('<div id="framerContainer" />'),t.box.append(t.container),arguments.length>1?(t.target=$("<a />"),t.target.attr("href",arguments[0]),t.target.attr("data-framer-type",arguments[1]),$.isPlainObject(arguments[2])&&(e=$.extend(e,arguments[2]))):t.target=$(this),t.animation=t.target.attr("data-framer-animation")||e.animation,"fade"!==t.animation&&(t.container.css({"transition-duration":String(.001*e.speed)+"s"}),t.box.addClass(t.animation)),$.isEmptyObject(e.inner)||t.box.append(e.inner),t.target.attr("title")&&""!=e.title&&(e.title.search(/{title}/)?t.title=$(e.title.replace(/{title}/,t.target.attr("title"))):t.title=$(e.title).text(t.target.attr("title")),t.container.append(t.title)),t.target.attr("data-framer-description")&&""!=e.description&&(e.description.search(/{description}/)?t.description=$(e.description.replace(/{description}/,t.target.attr("data-framer-description"))):t.description=$(e.description).text(t.target.attr("data-framer-description")),t.container.append(t.description)),t.type=w(t.target.attr("href"),t.target.attr("data-framer-type")),"image"==t.type?(t.contents=$("<img />").on("load",function(){d()}).on("error",function(){}),t.contents.attr("src",t.target.attr("href"))):"inline"==t.type?t.contents=v():"video"==t.type?t.contents=y():"youtube"==t.type?t.contents=b():"vimeo"==t.type?t.contents=x():"soundcloud"==t.type?t.contents=F():"twitch"==t.type?t.contents=T():"iframe"==t.type?t.contents=C():"ajax"==t.type&&I.apply(this),"image"!=t.type&&"ajax"!=t.type&&c(),t.box.addClass(t.type),$(window).on("resize.Framer",f),e.isScroll&&($(window).on("scroll.Framer",m),$(window).on("scrollComplete.Framer",g)),!1},t.close=function(){$(window).off("resize.Framer",f),t.closeBtn.off("click",$.Framer.close),e.isScroll&&($(window).off("scroll.Framer",m),$(window).off("scrollComplete.Framer",g)),e.isOverlayClose&&i.off("click",$.Framer.close),""!=e.closeBtn&&t.closeBtn.fadeOut(e.speed),i.fadeOut(e.overlayTime),""!==e.blur&&t.blurTarget.unblur(),"fade"!==t.animation?(t.container.on("transitionend webkitTransitionEnd",s),t.box.removeClass("show")):t.box.fadeOut(e.speed,s)};var s=function(){"fade"!==t.animation&&(t.container.off("transitionend webkitTransitionEnd",s),t.box.css({display:"none"})),"inline"==t.type?(t.contents.hide(),t.body.append(t.contents)):"video"==t.type&&FramerVideo.destroy(),$.isEmptyObject(e.inner)||$(e.inner).remove(),t.title&&t.title.remove(),t.description&&t.description.remove(),t.closeBtn.remove(),"inline"!=t.type&&t.contents.remove(),t.container.remove(),t.box.remove(),i.remove(),e.isPushState&&o&&window.history.back(),t.body.trigger("close.Framer")},d=function(){t.contents=p(t.contents),c()},c=function(){t.container.append(t.contents),t.body.append(t.box),h(),t.indicator.stop(),r.remove(),delete t.indicator,""!=e.closeBtn&&(t.closeBtn=$(e.closeBtn)),"fade"!==t.animation?(t.box.css({display:"block"}).addClass("show"),t.container.on("transitionend webkitTransitionEnd",l)):t.box.fadeIn(e.speed,function(){l()})},l=function(){if("fade"!==t.animation&&t.container.off("transitionend webkitTransitionEnd",l),"video"==t.type&&(FramerVideo=_V_("framer_video",$.parseJSON(t.target.attr("data-framer-video-setup"))),z())){var r=t.target.attr("href");r.match(/\.webm$/i)||r.match(/\.webm$/i)||r.match(/\.mp4$/i)?r.match(/\.mp4$/i)&&FramerVideo.src(r):FramerVideo.src(r+".mp4"),FramerVideo.width(t.contents.width()||t.target.attr("data-framer-width")||e.width),FramerVideo.height(t.contents.height()||t.target.attr("data-framer-height")||e.height)}e.isOverlayClose&&i.on("click",$.Framer.close),""!=e.closeBtn&&(t.container.append(t.closeBtn),t.closeBtn.fadeIn(e.speed),t.closeBtn.on("click",$.Framer.close)),e.isPushState&&null!=t.target.attr("data-framer-ps")&&(window.history.pushState(t.target.attr("data-framer-ps"),"",t.target.attr("data-framer-ps")),o=!0),t.body.trigger("open.Framer")},h=function(){t.box.css({top:Math.floor(.5*($(window).height()-t.box.outerHeight()))+$(window).scrollTop(),left:Math.floor(.5*($(window).width()-t.box.outerWidth()))})},p=function(r){var i,a,o;if("image"===t.type){var n=j(t.contents[0]);i=parseInt(t.target.attr("data-framer-width")||n.width),a=parseInt(t.target.attr("data-framer-height")||n.height)}else"soundcloud"===t.type?(i=parseInt(t.target.attr("data-framer-width")||e.width),a=166):"twitch"===t.type?(i=parseInt(t.target.attr("data-framer-width")||620),a=parseInt(t.target.attr("data-framer-height")||378)):"inline"===t.type||"ajax"===t.type?(i=parseInt(t.target.attr("data-framer-width")||r.outerWidth()||e.width),a=parseInt(t.target.attr("data-framer-height")||r.outerHeight()||e.height)):(i=parseInt(t.target.attr("data-framer-width")||e.width),a=parseInt(t.target.attr("data-framer-height")||e.height));var s=0===t.container.outerWidth()?t.container.outerWidth():t.container.outerWidth()-t.container.width(),d=0===t.container.outerHeight()?t.container.outerHeight():t.container.outerHeight()-t.container.height(),c=0===s?i+s:s-i,l=0===d?a+d:d-a,h=$(window).width(),p=$(window).height(),f=h-i,m=p-a,g=t.box.height()-a;return f>m?p*e.resizeRatio<l?e.isAutoResize&&(t.box.height(p*e.resizeRatio),o=t.box.height()/l,t.box.width(c*o),r=u(r,parseInt(t.box.width()-s),parseInt(t.box.height()-d))):(t.box.width(c),t.box.height(l),r=u(r,i,a)):h*e.resizeRatio<c?e.isAutoResize&&(t.box.width(h*e.resizeRatio),o=t.box.width()/c,t.box.height(l*o),r=u(r,parseInt(t.box.width()-s),parseInt(t.box.height()-d))):(t.box.width(c),t.box.height(l),r=u(r,i,a)),r},u=function(e,r,i){var a=e.width(),o=e.height();if(0===a)e.width(r);else{var n=e.outerWidth()-a;e.width(n>0?r-n:r)}if(0===o)e.height(i);else{var s=e.outerHeight()-o;e.height(s>0?i-s:i)}return"video"===t.type&&e.attr({width:e.width(),height:e.height()}),e},f=function(t){i.height($(document).height()).width($(window).width()),g()},m=function(){a&&clearTimeout(a),a=setTimeout(function(){a=null,$(window).trigger("scrollComplete.Framer")},500)},g=function(){t.contents=p(t.contents),t.box.stop().animate({top:Math.floor(.5*($(window).height()-t.box.outerHeight()))+$(window).scrollTop(),left:Math.floor(.5*($(window).width()-t.box.outerWidth()))},e.speed)},w=function(t,e){return t.match(/youtube\.com\/watch/i)||t.match(/youtu\.be/i)||"youtube"==e?"youtube":t.match(/vimeo\.com/i)||"vimeo"==e?"vimeo":t.match(/soundcloud\.com/i)||"soundcloud"==e?"soundcloud":t.match(/twitch\.tv/i)||"twitch"==e?"twitch":"#"==t.substr(0,1)||"inline"==e?"inline":"video"==e?"video":"iframe"==e?"iframe":"ajax"==e?"ajax":t.match(/\.(gif|jpg|jpeg|png)$/i)||"image"==e?"image":void 0},v=function(){var e=$(t.target.attr("href")).show();return e=p(e)},y=function(){var e=$('<video id="framer_video"></video>');e.addClass(t.target.attr("data-framer-video-class"));var r=t.target.attr("href");return r.match(/\.mp4$/i)?e.append('<source src="'+r+'" type="video/mp4" />'):r.match(/\.webm$/i)?e.append('<source src="'+r+'" type="video/webm" />'):r.match(/\.ogv$/i)?e.append('<source src="'+r+'" type="video/ogv" />'):(e.append('<source src="'+r+'.mp4" type="video/mp4" />'),e.append('<source src="'+r+'.webm" type="video/webm" />'),e.append('<source src="'+r+'.ogv" type="video/ogv" />')),e=p(e)},b=function(){var e=t.target.attr("href").match(/(youtube\.com|youtu\.be)\/(v\/|u\/|embed\/|watch\?v=)?([^#\&\?]*).*/i),r=e[3],i=$('<iframe frameborder="0"></iframe>'),a="";return t.target.attr("data-youtube-option")&&(a=t.target.attr("data-youtube-option").replace(/^\?/,"")),i.attr({src:"http://www.youtube.com/embed/"+r+"?wmode=opaque&"+a}),i=p(i)},x=function(){var e=t.target.attr("href").match(/vimeo\.com\/([^#\&\?]*).*/i),r=e[1],i=$('<iframe frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>');return i.attr({src:"http://player.vimeo.com/video/"+r}),i=p(i)},T=function(){var e,r=!0;if(t.target.attr("href").match(/\/[a-z]{1}\/[0-9]+$/i)&&(r=!1),r){var e=$('<iframe frameborder="0" scrolling="no"></iframe>');e.attr({src:t.target.attr("href")+"/embed"}),e=p(e)}else{var i=t.target.attr("href").match(/twitch\.tv\/([^#\&\?\/]*)\/v\/([0-9]*)/i),a=i[1],o=i[2],e=$('<object bgcolor="#000000" data="http://www.twitch.tv/swflibs/TwitchPlayer.swf" id="clip_embed_player_flash" type="application/x-shockwave-flash"></object>'),n='<param name="movie" value="http://www.twitch.tv/swflibs/TwitchPlayer.swf" /><param name="allowScriptAccess" value="always" /><param name="allowNetworking" value="all" /><param name="allowFullScreen" value="true" /><param name="flashvars" value="channel=%channel%&auto_play=false&start_volume=25&videoId=v%videoId%&device_id=65b095e38ed0b7d9" />';n=n.replace("%channel%",a),n=n.replace("%videoId%",o),e=p(e),e.append(n)}return e},F=function(){var e=$('<iframe frameborder="0"></iframe>');return e.attr({src:"https://w.soundcloud.com/player/?url="+t.target.attr("href")}),e=p(e)},C=function(){var r=$(e.iframe);return r.attr({src:t.target.attr("href")}),r=p(r)},I=function(){$.ajax({type:"GET",url:t.target.attr("href"),dataType:t.target.attr("data-framer-ajax-type")||e.ajaxDataType,success:function(e){t.contents=$(e),t.contents=p(t.contents),c()},error:function(e,r){t.contents=$('<div id="framer_error">'+r+"</div>"),t.contents=p(t.contents),c()}})},k=function(t){for(var e=[],r,i=t.slice(t.indexOf("?")+1).split("&"),a=0;a<i.length;a++)r=i[a].split("="),e.push(r[0]),e[r[0]]=r[1];return e},S=function(){var t=location.href,e=t.split("/"),r=e[e.length-1];return r.match(/.html$/)?e[e.length-2]:r},j=function(t){var e,r;return"undefined"!=typeof t.naturalWidth?(e=t.naturalWidth,r=t.naturalHeight):"undefined"!=typeof t.runtimeStyle?(e=t.width,r=t.height):(e=t.width,r=t.height),{width:e,height:r}},z=function(){return $.support.checkOn&&$.support.noCloneEvent&&!$.support.noCloneChecked&&!$.support.cors?!0:$.support.opacity?!1:!0},B=function(){return $.support.opacity?!1:$.support.hrefNormalized?!0:!1},O=function(t){var e=t.originalEvent.state;null==e&&1==o&&$.Framer.close()};return e.isPushState&&$(window).on("popstate",$.proxy(O,this)),this.on("click.Framer",$.Framer.open),this}}(jQuery),!function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var r,i=document.createElement(t||"div");for(r in e)i[r]=e[r];return i}function e(t){for(var e=1,r=arguments.length;r>e;e++)t.appendChild(arguments[e]);return t}function r(t,e,r,i){var a=["opacity",e,~~(100*t),r,i].join("-"),o=.01+r/i*100,n=Math.max(1-(1-t)/e*(100-o),t),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),d=s&&"-"+s+"-"||"";return p[a]||(l.insertRule("@"+d+"keyframes "+a+"{0%{opacity:"+n+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}100%{opacity:"+n+"}}",l.cssRules.length),p[a]=1),a}function i(t,e){var r,i,a=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<h.length;i++)if(r=h[i]+e,void 0!==a[r])return r;return void 0!==a[e]?e:void 0}function a(t,e){for(var r in e)t.style[i(t,r)||r]=e[r];return t}function o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)void 0===t[i]&&(t[i]=r[i])}return t}function n(t,e){return"string"==typeof t?t:t[e%t.length]}function s(t){this.opts=o(t||{},s.defaults,u)}function d(){function r(e,r){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',r)}l.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(t,i){function o(){return a(r("group",{coordsize:l+" "+l,coordorigin:-c+" "+-c}),{width:l,height:l})}function s(t,s,d){e(p,e(a(o(),{rotation:360/i.lines*t+"deg",left:~~s}),e(a(r("roundrect",{arcsize:i.corners}),{width:c,height:i.scale*i.width,left:i.scale*i.radius,top:-i.scale*i.width>>1,filter:d}),r("fill",{color:n(i.color,t),opacity:i.opacity}),r("stroke",{opacity:0}))))}var d,c=i.scale*(i.length+i.width),l=2*i.scale*c,h=-(i.width+i.length)*i.scale*2+"px",p=a(o(),{position:"absolute",top:h,left:h});if(i.shadow)for(d=1;d<=i.lines;d++)s(d,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(d=1;d<=i.lines;d++)s(d);return e(t,p)},s.prototype.opacity=function(t,e,r,i){var a=t.firstChild;i=i.shadow&&i.lines||0,a&&e+i<a.childNodes.length&&(a=a.childNodes[e+i],a=a&&a.firstChild,a=a&&a.firstChild,a&&(a.opacity=r))}}var c,l,h=["webkit","Moz","ms","O"],p={},u={lines:12,length:7,width:5,radius:10,scale:1,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};if(s.defaults={},o(s.prototype,{spin:function(e){this.stop();var r=this,i=r.opts,o=r.el=a(t(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});if(a(o,{left:i.left,top:i.top}),e&&e.insertBefore(o,e.firstChild||null),o.setAttribute("role","progressbar"),r.lines(o,r.opts),!c){var n,s=0,d=(i.lines-1)*(1-i.direction)/2,l=i.fps,h=l/i.speed,p=(1-i.opacity)/(h*i.trail/100),u=h/i.lines;!function f(){s++;for(var t=0;t<i.lines;t++)n=Math.max(1-(s+(i.lines-t)*u)%h*p,i.opacity),r.opacity(o,t*i.direction+d,n,i);r.timeout=r.el&&setTimeout(f,~~(1e3/l))}()}return r},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(i,o){function s(e,r){return a(t(),{position:"absolute",width:o.scale*(o.length+o.width)+"px",height:o.scale*o.width+"px",background:e,boxShadow:r,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*l+o.rotate)+"deg) translate("+o.scale*o.radius+"px,0)",borderRadius:(o.corners*o.scale*o.width>>1)+"px"})}for(var d,l=0,h=(o.lines-1)*(1-o.direction)/2;l<o.lines;l++)d=a(t(),{position:"absolute",top:1+~(o.scale*o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&r(o.opacity,o.trail,h+l*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&e(d,a(s("#000","0 0 4px #000"),{top:"2px"})),e(i,e(d,s(n(o.color,l),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(t,e,r){e<t.childNodes.length&&(t.childNodes[e].style.opacity=r)}}),"undefined"!=typeof document){l=function(){var r=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],r),r.sheet||r.styleSheet}();var f=a(t("group"),{behavior:"url(#default#VML)"});!i(f,"transform")&&f.adj?d():c=i(f,"animation")}return s});